{% extends "base.html" %}
{% block extra_css %}
<style>
body{
  background: radial-gradient(circle at 25% 25%, #0f1825, #060a10 70%);
  overflow:hidden; color:var(--text);
}

/* Animated glowing grid */
.bg-anim::before{
  content:""; position:fixed; inset:0;
  background: repeating-linear-gradient(
    0deg, rgba(76,201,240,.08) 0px, transparent 2px,
    transparent 50px, rgba(76,201,240,.08) 52px);
  animation: drift 40s linear infinite;
  opacity:.15; pointer-events:none;
}
@keyframes drift{ 0%{transform:translateY(0)} 100%{transform:translateY(50px)} }

.login-container{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  min-height:100vh; position:relative; z-index:2; text-align:center;
}
.logo-wrapper img{
  width:90px; height:auto; filter:drop-shadow(0 0 10px rgba(99,226,255,.4));
}
.login-box{
  background:linear-gradient(180deg,#101624 0%,#0b111b 100%);
  border:1px solid #1c2636; box-shadow:0 10px 40px rgba(0,0,0,.5);
  border-radius:18px; padding:40px 32px; max-width:400px; width:90%;
  margin-top:24px; animation:fadeIn .6s ease;
}
.login-box h2{
  margin:0 0 16px; font-size:24px; color:var(--accent);
}
.input-group{ text-align:left; margin-bottom:16px; }
.input-group label{ display:block; font-weight:600; margin-bottom:6px; color:var(--muted); }
.input-group input{
  width:100%; padding:12px; border-radius:8px;
  border:1px solid #1c2636; background:#0b111b; color:#e7eef7;
  transition:border .2s,box-shadow .2s;
}
.input-group input:focus{
  border-color:var(--accent); box-shadow:0 0 8px rgba(99,226,255,.25); outline:none;
}

.btn-login{
  width:100%; padding:12px; background:var(--accent); border:none;
  color:#001018; border-radius:10px; font-weight:700; cursor:pointer;
  transition:.2s;
}
.btn-login:hover{ background:#4cc9f0; transform:translateY(-2px);
  box-shadow:0 0 12px rgba(99,226,255,.25); }

.login-options{
  margin-top:14px; display:flex; justify-content:space-between;
  align-items:center; font-size:13px; color:var(--muted);
}
.login-options a{ color:var(--accent); text-decoration:none; }
.login-options a:hover{text-decoration:underline;}

.mfa-box{display:none;flex-direction:column;margin-top:16px;animation:fadeIn .4s ease}
.mfa-box.active{display:flex;}
.mfa-box input{letter-spacing:2px;text-align:center;font-weight:600}
.footer-note{margin-top:24px;font-size:13px;color:var(--muted);}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
</style>
{% endblock %}

{% block content %}
<div class="bg-anim"></div>
<div class="login-container">
  <div class="logo-wrapper">
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="TenshiGuard Logo">
  </div>

  <div class="login-box">
    <h2>Welcome to TenshiGuard</h2>
    <p style="color:#9ab0c6;margin-bottom:20px;font-size:14px;">
      Secure access to your organization’s endpoint monitoring.
    </p>

    <form method="POST" action="{{ url_for('auth.login') }}">
      <div class="input-group">
        <label>Email</label>
        <input type="email" name="email" placeholder="admin@company.com" required>
      </div>

      <div class="input-group">
        <label>Password</label>
        <input type="password" name="password" placeholder="••••••••" required>
      </div>

      <!-- MFA input placeholder -->
      <div class="mfa-box" id="mfaBox">
        <label>Enter MFA Code</label>
        <input type="text" name="mfa_code" maxlength="6" placeholder="000000">
      </div>

      <button type="submit" class="btn-login">Login</button>

      <div class="login-options">
        <div><input type="checkbox" name="remember"> Remember Me</div>
        <a href="#" onclick="showMFA()">Use MFA</a>
      </div>
    </form>

    <div class="footer-note">
      New organization? <a href="{{ url_for('register_flow.plan') }}">Register here</a>
    </div>
  </div>
</div>

<script>
function showMFA(){
  document.getElementById("mfaBox").classList.toggle("active");
}
</script>
{% endblock %}
