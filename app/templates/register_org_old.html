{% extends "base.html" %}
{% block content %}

<div class="bg-grid"></div>
<div class="bg-grid-mask"></div>

<div class="container mt-5 mb-5">
  <div class="register-box">
    <div class="register-header text-center mb-4">
      <img src="{{ url_for('static', filename='images/logo.png') }}" class="logo" alt="TenshiGuard Logo">
      <h2>Create Your Organization</h2>
      <p class="text-muted">Start securing your digital environment today.</p>
    </div>

    <form method="POST" class="register-form">

      <!-- Organization Details -->
      <h5 class="section-title">üè¢ Organization Details</h5>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">Organization Name</label>
          <input type="text" class="form-control" name="org_name" placeholder="e.g., TenshiGuard Academy" required>
        </div>
        <div class="col-md-3 mb-3">
          <label class="form-label">Sector</label>
          <select class="form-control" name="sector" required>
            <option value="">Select</option>
            <option>Academic</option>
            <option>Healthcare</option>
            <option>Hospitality</option>
          </select>
        </div>
        <div class="col-md-3 mb-3">
          <label class="form-label">Location</label>
          <input type="text" class="form-control" name="location" placeholder="City, Country">
        </div>
      </div>

      <!-- Subscription Plan -->
      <h5 class="section-title">üí≥ Subscription Plan</h5>
      <div class="row text-center">
        {% for sub in subscriptions %}
        <div class="col-md-4">
          <label class="plan-card">
            <input type="radio" name="subscription_id" value="{{ sub.id }}" required>
            <div class="plan-content">
              <h4>{{ sub.name }}</h4>
              <p>{{ sub.description }}</p>
              <h3>${{ "%.2f"|format(sub.price) }}</h3>
              <small>Duration: {{ sub.duration_months }} months</small>
            </div>
          </label>
        </div>
        {% endfor %}
      </div>

      <!-- Admin Account -->
      <h5 class="section-title mt-4">üßë‚Äçüíº Admin Account</h5>
      <div class="row">
        <div class="col-md-4 mb-3">
          <label class="form-label">Admin Username</label>
          <input type="text" class="form-control" name="admin_username" required>
        </div>
        <div class="col-md-4 mb-3">
          <label class="form-label">Admin Email</label>
          <input type="email" class="form-control" name="admin_email" required>
        </div>
        <div class="col-md-2 mb-3">
          <label class="form-label">Password</label>
          <input type="password" class="form-control" name="admin_password" required>
        </div>
        <div class="col-md-2 mb-3">
          <label class="form-label">Confirm Password</label>
          <input type="password" class="form-control" name="confirm_password" required>
        </div>
      </div>

      <!-- Agreement -->
      <div class="form-check my-3">
        <input type="checkbox" class="form-check-input" required>
        <label class="form-check-label">
          I agree to the <a href="#">Terms and Conditions</a>.
        </label>
      </div>

      <!-- Submit -->
      <div class="text-center mt-4">
        <button type="submit" class="btn btn-primary w-50">Register Organization</button>
      </div>

    </form>
  </div>
</div>

<style>
body {
  background: var(--bg);
  color: var(--text);
}
.register-box {
  max-width: 950px;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  padding: 30px;
  border-radius: 20px;
  margin: auto;
  box-shadow: var(--shadow);
  border: 1px solid var(--line);
}
.logo {
  height: 70px;
  filter: drop-shadow(0 0 10px var(--accent));
  margin-bottom: 15px;
}
.section-title {
  color: var(--accent);
  border-bottom: 1px solid var(--line);
  padding-bottom: 5px;
  margin-bottom: 15px;
}
.plan-card {
  display: block;
  background: rgba(255,255,255,0.03);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 15px;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}
.plan-card:hover {
  transform: translateY(-3px);
  border-color: var(--accent);
  background: rgba(99,226,255,0.05);
}
.plan-card input[type="radio"] {
  display: none;
}
.plan-card input[type="radio"]:checked + .plan-content {
  border: 1px solid var(--accent);
  background: rgba(99,226,255,0.08);
  box-shadow: 0 0 10px rgba(99,226,255,0.3);
}
.plan-content h4 {
  color: var(--accent);
  font-weight: 700;
}
.btn-primary {
  background: var(--accent);
  color: #000;
  font-weight: 700;
  border: none;
  border-radius: 10px;
}
.btn-primary:hover {
  background: var(--accent-2);
}
</style>

{% endblock %}
